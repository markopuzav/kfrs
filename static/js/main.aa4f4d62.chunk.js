(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{32:function(t,e,i){t.exports=i(84)},36:function(t,e,i){},84:function(t,e,i){"use strict";i.r(e);var a=i(0),r=i.n(a),o=i(26),n=i.n(o),s=(i(36),i(30)),h=i(27),c=i(28),l=i(31),g=i(29),d=i(5),u=new window.Image;u.src="/kfrs/beer.png";var w=new window.Image;w.src="/kfrs/milk.png";var m=new window.Image;m.src="/kfrs/marlenka.png";var f=new window.Image;f.src="/kfrs/adidas.png";var p=new window.Image;p.src="/kfrs/vodka.png";var k=new window.Image;k.src="/kfrs/pussy.png";var y=new window.Image;y.src="/kfrs/kofola.png";var b=new window.Image;b.src="/kfrs/kefear.jpg";var x=new window.Image;x.src="/kfrs/kefear.png";for(var P={beer:u,marlenka:m,milk:w,pussy:k,vodka:p,kefear:x,kofola:y},v=[{key:"CL",xScale:.05,yScale:.88,value:100,peopleHit:0},{key:"BL",xScale:.18,yScale:.88,value:70,peopleHit:0},{key:"TL",xScale:.5,yScale:.1,value:70,peopleHit:0},{key:"BR",xScale:.85,yScale:.45,value:200,peopleHit:0},{key:"CR",xScale:.95,yScale:.88,value:20,peopleHit:0},{key:"M",xScale:.6,yScale:.3,value:10,peopleHit:0}],M=["Kubo","Marko","Miro","Kmeca","Krusty","Karin","Kajo","Miso","Klaudy","Dominika","Miska","Colka","Tomas","Zuzka","Dano","Samo","Ogs","Ostatni"].sort(),F={Ostatni:{name:"Ostatni",width:100,height:170,color:"green",hand:"right",sixpack:!1,consumptionFactor:8,item:"milk",items:[],strength:.1,windFactor:1,precision:.2,throws:0,targetsHit:[]},Ogs:{name:"Ogs",width:60,height:170,color:"green",hand:"right",sixpack:!1,hair:!0,consumptionFactor:5,items:[],item:"beer",strength:1.2,windFactor:.5,precision:1,throws:0,targetsHit:[]},Samo:{name:"Samo",width:55,height:170,color:"blue",hand:"right",sixpack:!1,consumptionFactor:1,items:[],item:"beer",strength:.9,windFactor:.3,precision:.95,throws:0,targetsHit:[]},Zuzka:{name:"Zuzka",width:50,height:140,color:"red",hand:"right",hair:!0,consumptionFactor:1,items:[],item:"beer",strength:.8,windFactor:.6,precision:.98,throws:0,targetsHit:[]},Dominika:{name:"Dominika",width:50,height:140,color:"red",hand:"right",sixpack:!1,hair:!0,consumptionFactor:1,items:[],item:"kofola",strength:.66,windFactor:.9,precision:.85,throws:0,targetsHit:[]},Miso:{name:"Miso",width:60,height:180,color:"blue",hand:"right",sixpack:!1,hair:!0,consumptionFactor:2,items:[],item:"kofola",strength:.95,windFactor:.1,precision:.98,throws:0,targetsHit:[]},Karin:{name:"Karin",width:50,height:140,color:"red",hand:"right",hair:!0,consumptionFactor:1,items:[],item:"kofola",strength:.77,windFactor:.2,precision:.95,throws:0,targetsHit:[]},Colka:{name:"Colka",width:50,height:140,color:"red",hand:"right",sixpack:!1,consumptionFactor:1,items:[],item:"beer",strength:.79,windFactor:.5,precision:.99,throws:0,targetsHit:[]},Marko:{name:"Marko",width:50,height:90,color:"gray",hand:"right",sixpack:!1,consumptionFactor:2,item:"beer",items:[],strength:.8,windFactor:.5,precision:.9,throws:0,targetsHit:[]},Miro:{name:"Miro",width:60,height:200,color:"red",hand:"right",sixpack:!0,consumptionFactor:6,item:"marlenka",items:[],strength:1.3,windFactor:.2,precision:1,throws:0,targetsHit:[]},Kajo:{name:"Kajo",width:60,height:190,color:"blue",hand:"left",sixpack:!0,consumptionFactor:2,items:[],item:"kofola",strength:.8,windFactor:.5,precision:.97,throws:0,targetsHit:[]},Krusty:{name:"Krusty",width:100,height:160,color:"white",hand:"right",consumptionFactor:4,item:"vodka",items:[],adidas:!0,pupek:!0,strength:1.3,windFactor:.5,precision:.3,throws:0,targetsHit:[]},Tomas:{name:"Tomas",width:88,height:160,color:"blue",hand:"right",consumptionFactor:5,item:"beer",items:[],pupek:!0,strength:.8,windFactor:.5,precision:.95,throws:0,targetsHit:[]},Kmeca:{name:"Kmeca",width:60,height:200,color:"white",hand:"right",consumptionFactor:1,item:"marlenka",items:[],hair:!0,strength:.8,windFactor:.5,precision:.99,throws:0,targetsHit:[]},Kubo:{name:"Kubo",width:70,height:170,color:"white",hand:"right",pupek:!0,consumptionFactor:5,item:"beer",items:[],hair:!0,adidas:!0,strength:1,windFactor:.5,precision:.99,throws:0,targetsHit:[]},Dano:{name:"Dano",width:70,height:170,color:"purple",hand:"right",consumptionFactor:2,item:"milk",items:[],strength:.75,windFactor:.7,precision:.8,throws:0,targetsHit:[]},Klaudy:{name:"Klaudy",width:50,height:170,color:"white",hand:"right",sixpack:!0,hair:!0,consumptionFactor:1,item:"milk",items:[],strength:1,windFactor:.3,precision:.98,throws:0,targetsHit:[]},Miska:{name:"Miska",width:50,height:140,color:"pink",hand:"right",hair:!0,consumptionFactor:1,item:"pussy",items:[],strength:.65,windFactor:.3,precision:.6,throws:0,targetsHit:[]}},S=0,E=Object.keys(F);S<E.length;S++){var Y=E[S];if("Ostatni"===Y)F[Y].image=b;else{var I=new window.Image;I.src="/kfrs"+"/".concat(Y.toLowerCase(),".png"),F[Y].image=I}}var X=function(t){return Math.floor(Math.random()*t)},H=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},C=function(t){for(var e=t.person,i=t.center,a=e.name,o=e.width,n=e.height,s=e.color,h=e.sixpack,c=e.image,l=e.consumptionFactor,g=e.items,u=e.item,w=e.hair,m=e.pupek,p=e.adidas,k=.4*n,y=i.x,b=i.y-n/2-k,x=Math.min(200,w?1.4*o:o/1.5),v=c.width,M=2*x/v,F=v/2,S=b-n/2-(w?0:n/8+o/8);l>g.length;)g.push({x:y-y/4+X(y/1.5),y:i.y+X(40)-20});return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.Line,{points:[y,b,y-o/2,i.y-k/1.7,y-o/2,i.y,y-o/2-o/8,i.y],strokeWidth:9,stroke:"black",shadowBlur:2}),r.a.createElement(d.Line,{points:[y+o/5,b,y+o/3,i.y,y+o/3+o/8,i.y],strokeWidth:9,stroke:"black",shadowBlur:2}),r.a.createElement(d.Line,{points:[y,b-n/2.5,y-o/3,b-n/2.5,y-.8*o,b,y-.8*o,b+n/5],strokeWidth:9,stroke:"black",shadowBlur:2}),r.a.createElement(d.Line,{points:[y,b-n/2.5,y+o/3,b-n/2.5,y+.8*o,b,y+.8*o,b+n/5],strokeWidth:9,stroke:"black",shadowBlur:2}),r.a.createElement(d.Ellipse,{x:y,y:b,radiusX:o/2,radiusY:n/2,fillLinearGradientStartPoint:{x:0,y:0},fillLinearGradientEndPoint:{x:o,y:n},fillLinearGradientColorStops:[0,s,1,"black"],stroke:"black",shadowBlur:5}),m&&r.a.createElement(d.Circle,{x:y-7,y:b+n/6,radius:2,stroke:"black",shadowBlur:5}),h&&[[y-o/4,b,y+o/4,b],[y-o/4,b+n/9,y+o/4,b+n/9],[y-o/4,b+2*n/9,y+o/4,b+2*n/9],[y,b-n/20,y,b+2*n/7]].map((function(t,e){return r.a.createElement(d.Line,{key:e,points:t,strokeWidth:1,stroke:"black",shadowBlur:2,shadowOffsetX:1})})),p&&r.a.createElement(d.Circle,{x:y-.1*o,y:b-.1*n,radius:.4*f.width,fillPatternImage:f,fillPatternScale:{x:.4,y:.4},fillPatternOffset:{x:f.width/2,y:f.width/2},fillPatternRepeat:"no-repeat"}),!p&&r.a.createElement(d.Circle,{x:y,y:b-.2*n,radius:o/3,fillPatternImage:P.kefear,fillPatternScale:{x:o/2/P.kefear.width,y:o/2/P.kefear.height},fillPatternOffset:{x:P.kefear.width/2,y:P.kefear.width/2},fillPatternRepeat:"no-repeat",shadowBlur:3}),r.a.createElement(d.Circle,{x:y,y:S,radius:x,fillPatternImage:c,fillPatternScale:{x:M,y:M},fillPatternOffset:{x:F,y:F},fillPatternRepeat:"no-repeat",shadowBlur:5}),g.sort((function(t,e){return t.y>e.y})).map((function(t,e){return r.a.createElement(d.Circle,{key:a+e.toString(),x:t.x,y:t.y,radius:.4*P[u].width,fillPatternImage:P[u],fillPatternScale:{x:.4,y:.4},fillPatternOffset:{x:P[u].width/2,y:P[u].width/2},fillPatternRepeat:"no-repeat",shadowBlur:5})})))},B=function(t){Object(l.a)(i,t);var e=Object(g.a)(i);function i(t){var a;Object(h.a)(this,i),(a=e.call(this,t)).throwerChange=function(t){var e=this.getMinXY(.1),i=function(t,e){var i=F[t],a=i.width,r=i.height,o=.4*r,n=e.x,s=e.y-r/2-o;return{x:n+("right"===F[t].hand?-.8:.8)*a,y:s+r/5}}(t,{x:this.getX(.5),y:this.getY(.88)});"Miro"===t&&(F[t].hand=X(5)>1?"right":"left"),this.setState({thrower:t,frisbeePosition:i,arrowPosition:this.state.arrowPosition?this.state.arrowPosition:{x:i.x+("right"===F[t].hand?-1:1)*e,y:i.y-e},boundRadius:this.getMinXY(.25),frisbeeRotation:X(360),throwInProcess:!1})},a.getX=function(t){return a.state.width*t},a.getY=function(t){return a.state.height*t},a.getMinXY=function(t){return Math.min(a.getX(t),a.getY(t))},a.getArrowVector=function(){var t=H(a.state.arrowPosition,a.state.frisbeePosition)/a.state.boundRadius;return{x:t*(a.state.arrowPosition.x-a.state.frisbeePosition.x)/a.state.boundRadius,y:t*(a.state.arrowPosition.y-a.state.frisbeePosition.y)/a.state.boundRadius}},a.getStartVector=function(){var t=F[a.state.thrower],e=t.strength,i=t.precision,r=a.getArrowVector(),o=r.x,n=r.y,s=Math.floor(90*(1-i)),h=X(2*s)-s,c=Math.sin(h*Math.PI/180),l=Math.cos(h*Math.PI/180),g=[l*o-c*n,c*o+l*n];return n=g[1],{x:(o=g[0])*a.getMinXY(.05)*e,y:n*a.getMinXY(.03)*e}},a.updateVector=function(t){var e=F[a.state.thrower].windFactor;return{x:t.x+e*(a.getMinXY(.001)*a.state.wind)/20,y:t.y+.3}},a.isOutOfBounds=function(){return a.state.frisbeePosition.y>a.getY(.88)},a.hitSideBareer=function(t){var e=a.getMinXY(.023)+10,i=a.state.frisbeePosition,r=i.x,o=i.y;return r+=t.x,(o+=t.y)>=a.getY(.3)-e&&o<=a.getY(.6)+e&&Math.abs(r-a.getX(.8))<=e||o>=a.getY(.3)-e&&o<=a.getY(.88)+e&&Math.abs(r-a.getX(.2))<=e},a.hitTopBareer=function(t){var e=a.getMinXY(.023)+10,i=a.state.frisbeePosition,r=i.x,o=i.y;return r+=t.x,o+=t.y,r>=a.getX(.4)-e&&r<=a.getX(.6)+e&&Math.abs(o-a.getY(.2))<=e},a.hitTarget=function(){var t,e=a.getMinXY(.015)+7,i=a.getMinXY(.02),r=Object(s.a)(v);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(H(a.state.frisbeePosition,{x:a.getX(o.xScale),y:a.getY(o.yScale)})<=e+i)return F[a.state.thrower].targetsHit.includes(o.key)||(o.peopleHit+=1,F[a.state.thrower].targetsHit.push(o.key),a.setState({score:a.state.score+o.peopleHit*o.value})),!0}}catch(n){r.e(n)}finally{r.f()}return!1},a.frisbee=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.023,e=a.getMinXY(t),i=1,o=0;if(a.state.frisbeeImage){var n=a.state.frisbeeImage.width;i=2*e/n,o=n/2}return a.state.frisbeeImage&&r.a.createElement(d.Circle,{x:a.state.frisbeePosition.x,y:a.state.frisbeePosition.y,radius:e,fillPatternImage:a.state.frisbeeImage,fillPatternScale:{x:i,y:i},fillPatternOffset:{x:o,y:o},fillPatternRotation:a.state.frisbeeRotation,fillPatternRepeat:"no-repeat",stroke:"black",strokeWidth:2})},a.background=function(){var t,e,i=null===(t=a.state.backGroundImage)||void 0===t?void 0:t.width,o=null===(e=a.state.backGroundImage)||void 0===e?void 0:e.height,n=Math.max(a.state.height/o,a.state.width/i);return a.state.backGroundImage&&r.a.createElement(d.Rect,{x:0,y:0,width:a.state.width,height:a.state.height,fillPatternImage:a.state.backGroundImage,fillPatternScale:{x:n,y:n},fillPatternRepeat:"no-repeat"})},a.throw=function(t){if(a.state.throwInProcess){var e=a.hitSideBareer(t),i=a.hitTopBareer(t);a.setState({frisbeeRotation:a.state.frisbeeRotation+15,frisbeePosition:{x:a.state.frisbeePosition.x+(e?0:t.x),y:a.state.frisbeePosition.y+(i?0:t.y)}},(function(){a.hitTarget()||a.isOutOfBounds()?setTimeout((function(){return a.throwerChange(a.state.thrower)}),500):e?requestAnimationFrame((function(){a.throw(a.updateVector({x:-.3*t.x,y:1.2*t.y}))})):i?requestAnimationFrame((function(){a.throw(a.updateVector({x:t.x,y:-.2*t.y}))})):requestAnimationFrame((function(){a.throw(a.updateVector(t))}))}))}},a.handleThrow=function(t){a.setState({throwInProcess:!a.state.throwInProcess},(function(){if(a.state.throwInProcess){F[a.state.thrower].throws+=1;var t=F[a.state.thrower],e=t.throws,i=t.consumptionFactor,r=t.item;i>0&&X(i)>8-e&&(F[a.state.thrower].throws=0,F[a.state.thrower].consumptionFactor+=1,"beer"!==r&&"marlenka"!==r&&"milk"!==r&&"vodka"!==r&&"kofola"!==r||(F[a.state.thrower].width*=1.05)),a.throw(a.getStartVector())}else a.throwerChange(a.state.thrower)}))};var o=new window.Image,n=new window.Image;return o.onload=function(){a.setState({frisbeeImage:o})},n.onload=function(){a.setState({backGroundImage:n})},o.src="/kfrs/kefear.jpg",n.src="/kfrs/background.jpg",a.state={score:0,width:window.innerWidth,height:window.innerHeight,thrower:null,wind:0,frisbeeImage:null,frisbeePosition:null,frisbeeRotation:X(360),throwInProcess:!1},a}return Object(c.a)(i,[{key:"render",value:function(){var t=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{zIndex:2,position:"absolute",marginLeft:"auto",marginRight:"auto",paddingTop:10,paddingBottom:10,textAlign:"center",left:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.3)",fontSize:15}},M.map((function(e){return r.a.createElement("label",{key:e},r.a.createElement("input",{type:"radio",name:"editList",value:e,onChange:function(e){t.throwerChange(e.target.value)}}),"".concat(e,"   "))})),this.state.thrower&&r.a.createElement("div",{style:{marginLeft:20,paddingTop:10,fontWeight:"bold",fontSize:20}},r.a.createElement("span",{style:{marginRight:this.getX(.1)}},"Score: ".concat(this.state.score)),"Wind:",r.a.createElement("input",{type:"range",min:"-20",max:"20",value:this.state.wind,step:"0.01",style:{width:this.getX(.4),marginLeft:10},onChange:function(e){return t.setState({wind:e.target.value})}}),r.a.createElement("button",{style:{marginLeft:50,width:this.getX(.1),height:this.getY(.04)},type:"button",onClick:this.handleThrow},"".concat(this.state.throwInProcess?"Restart":"Rucaj!")," ",r.a.createElement("small",null,"(double click)")))),r.a.createElement(d.Stage,{width:this.state.width,height:this.state.height,fill:"blue",style:{marginTop:-20,marginLeft:-20},onDblClick:this.handleThrow},r.a.createElement(d.Layer,null,this.background(),!this.state.thrower&&r.a.createElement(d.Text,{x:this.getX(.25),y:this.getY(.15),text:"\u2191 Ta vyber si dakoho \u2191",fontSize:this.getMinXY(.07),shadowBlur:10,shadowColor:"white"}),this.state.thrower&&r.a.createElement(C,{person:F[this.state.thrower],center:{x:this.getX(.5),y:this.getY(.88)}}),this.state.thrower&&!this.state.throwInProcess&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.Arrow,{points:[this.state.frisbeePosition.x,this.state.frisbeePosition.y,this.state.arrowPosition.x,this.state.arrowPosition.y],stroke:"black",strokeWidth:3,fill:"black",shadowBlur:3,shadowColor:"white"}),r.a.createElement(d.Circle,{x:this.state.arrowPosition.x,y:this.state.arrowPosition.y,radius:this.state.width,draggable:!0,dragBoundFunc:function(e){var i=t.getMinXY(.25)/H(t.state.frisbeePosition,e);return i<1?{x:(e.x-t.state.frisbeePosition.x)*i+t.state.frisbeePosition.x,y:Math.min(t.getY(.88),(e.y-t.state.frisbeePosition.y)*i+t.state.frisbeePosition.y)}:{x:e.x,y:Math.min(e.y,t.getY(.88))}},onDragMove:function(e){t.setState({arrowPosition:e.target._lastPos})}})),this.state.thrower&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.Line,{points:[this.getX(.2),this.getY(.3),this.getX(.2),this.getY(.9)],strokeWidth:20,stroke:"black",shadowBlur:2,poin:!0}),r.a.createElement(d.Line,{points:[this.getX(.8),this.getY(.3),this.getX(.8),this.getY(.6)],strokeWidth:20,stroke:"black",shadowBlur:2}),r.a.createElement(d.Line,{points:[this.getX(.4),this.getY(.2),this.getX(.6),this.getY(.2)],strokeWidth:20,stroke:"black",shadowBlur:2})),this.state.thrower&&v.map((function(e){var i=e.key,a=e.xScale,o=e.yScale,n=e.value,s=e.peopleHit;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.Text,{key:i+"1",x:t.getX(a)-t.getMinXY(.01),y:t.getY(o)-t.getMinXY(.02)-20,text:"".concat(F[t.state.thrower].targetsHit.includes(i)?0:(s+1)*n),fontStyle:"bold",fontSize:20,shadowBlur:5,shadowColor:"white"}),r.a.createElement(d.Circle,{key:i+"2",x:t.getX(a),y:t.getY(o),radius:t.getMinXY(.015),fill:"red",stroke:"black",strokeWidth:3}),r.a.createElement(d.Circle,{key:i+"3",x:t.getX(a),y:t.getY(o),radius:t.getMinXY(.003),fill:"black",stroke:"black",strokeWidth:3}))})),this.state.thrower&&this.frisbee())))}}]),i}(r.a.Component);document.body.style.overflow="hidden",n.a.render(r.a.createElement(B,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.aa4f4d62.chunk.js.map